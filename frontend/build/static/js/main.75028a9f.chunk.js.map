{"version":3,"sources":["img/logo.png","GlobalProvider.js","components/pages/Main.jsx","components/pages/404.jsx","scripts/Vote.js","scripts/sorting.js","components/forms/Field.jsx","components/forms/Input.jsx","components/forms/Form.jsx","components/pages/Modal.jsx","scripts/formatting/settingsFormatter.js","components/pages/VoteCount.jsx","network/socket.js","components/rolecard/RolecardComponent.jsx","components/rolecard/SidebarButton.jsx","network/network.js","config/roleCardConfig.js","components/rolecard/sections/Import.jsx","components/rolecard/sections/Template.jsx","components/pages/RoleCard.jsx","scripts/websockets.js","components/pages/Credits.jsx","components/moderatorPanels/ModeratorProvider.js","components/lists/UnorderedList.jsx","components/mod/Sidebar.jsx","components/mod/ModPanel.jsx","components/moderatorPanels/Thread.jsx","components/moderatorPanels/Days.jsx","components/moderatorPanels/pages/Thread.jsx","components/moderatorPanels/Players.jsx","components/moderatorPanels/Nicknames.jsx","components/moderatorPanels/Replacement.jsx","components/moderatorPanels/pages/Players.jsx","components/moderatorPanels/Prods.jsx","scripts/dateUtilities.js","components/moderatorPanels/PhaseTimer.jsx","components/moderatorPanels/pages/Deadlines.jsx","pages/ModeratorPanel.jsx","resources/list.png","pages/Replace.jsx","pages/Login.jsx","pages/Register.jsx","pages/DiscordArchive.jsx","pages/testing/SocketTest.jsx","index.js","styles/modules/moderators.module.css"],"names":["axios","defaults","baseURL","cookies","Cookies","ACTIONS","globalReducer","state","action","token","type","payload","jwt","socketListeners","set","handleAuthToken","skt","socket","cmd","tag","func","on","data","manageSocketListeners","authToken","get","headers","common","GlobalContext","React","createContext","GlobalUpdateContext","useGlobals","useContext","useGlobalsUpdate","GlobalProvider","children","io","useReducer","dispatch","useEffect","console","log","Provider","value","Main","auth","subtitle","globalState","className","src","logo","alt","href","Vote","voteData","category","this","author","pronoun","number","parseInt","post","url","votes","vote","last","valid","isAfter","settings","totalnames","alias","voteArray","lastVote","undefined","finalVote","i","length","originalVote","correction","findBestMatch","bestMatch","rating","correctionWeight","corrected","target","isCurrent","days","isDead","dead","deadUsr","deadRoot","rootUser","userRoot","user","sortArraysBySize","array","lemgth","j","Field","props","child","Input","name","label","accept","htmlFor","id","Component","Form","onSubmit","submitText","map","c","Modal","p","title","selectors","players","slots","moderators","deadline","prods","countdown","pageData","edash","edashOnTop","containsSelector","sel","selRef","includes","findSelector","selector","handle","request","defaultFunc","SettingsFormat","reg","unvote","hurt","voteWeight","baseUrl","parseSettings","settingsData","playerRef","convertCommaDelimiter","list","obj","addNamesArray","addAlias","convertPlayerNicknames","slotRef","aliasRef","moderatorRef","deadRef","dayRef","prodList","isNaN","edashInt","edashOnTopInt","nameArray","push","Object","assign","setting","addPlayers","split","f","cur","root","slotList","nicknames","splitData","nicks","group","indivPlayers","currentPlayer","trim","playerReference","val","prod","int","VoteCount","cat","progress","result","toggle","onlyCountVotes","cache","startSocketConnection","setupSocketListeners","closeSocketConnection","connect","disconnect","processVotes","bind","processProgress","processError","cleaned","clean","format","setState","currentPage","lastPage","notes","Math","round","e","preventDefault","gameUrl","emit","fields","onFormSubmit","readOnly","wagons","orderedWagons","notVoting","majority","voteCount","getAlive","ceil","validVote","getNewest","isValid","authorIndex","indexOf","splice","wagonHandle","wagon","sortWagonByPostNumber","reverse","newArray","tmp","totalVC","categoryVotes","wagonArray","wagonHead","voteStr","eDash","aliveList","getRootAuthor","containsObject","votePost","cor","RolecardComponent","SidebarButton","onclick","onClick","getServerURL","window","location","hostname","protocol","config","template","Import","formSubmit","Template","onChange","RoleCard","showImport","showGlobals","showTemplate","roleData","socketIOClient","import","globals","file","files","Papa","parse","download","header","skipEmptyLines","complete","res","roles","err","toggleImport","toggleGlobal","toggleTemplate","submitImport","templateChange","roleCardConfig","Replacement","PAGES","THREAD","PLAYERS","DEADLINES","ROLE_ASSIGNMENT","NIGHT_ACTIONS","PAGE_HANDLES","Thread","Players","Deadlines","moderatorReducer","activePage","page","_id","thread","concat","player","prodTimer","parseFloat","exampleReducerInit","ModeratorContext","ModeratorUpdateContext","useModerator","useModeratorUpdate","ModeratorProvider","useState","prevState","setPrevState","then","threadURL","updateValues","catch","ignoreHandles","hasChanged","changedValues","put","UnorderedList","onChildClick","v","Sidebar","styles","sidebar","textContent","currentTarget","pageHandle","pageValue","keys","ModeratorPanel","modpanel","panelBody","enterThreadURL","editableInput","placeholder","editableButton","Days","panelList","ThreadPage","modState","modPage","style","display","enterUsername","Nicknames","PlayerPage","duration","seconds","minutes","hours","h","m","s","enterProdTime","sname","PhaseTimer","DeadlinesPage","menuActive","bindFunctions","hamburgerClicked","updateModPanel","mainDiv","body","content","contextType","Replace","setResult","setProgress","onGenReplace","error","form","message","departing","defaultValue","Login","setError","globalStateUpdate","loginAccount","a","loginUsername","loginPassword","username","password","history","response","status","registerAccount","flexDirection","width","height","color","padding","textArea","button","DiscordArchive","pastedData","setPastedData","archiveData","JSON","messages","index","SocketTest","SubsetApp","exact","path","component","Credit","to","Register","TestSocketPage","NotFoundPage","App","ReactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.75028a9f.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.f16fac0d.png\";","import React, { useContext, useEffect, useReducer } from 'react';\r\nimport axios from 'axios';\r\nimport Cookies from 'universal-cookie';\r\nimport { io } from 'socket.io-client';\r\n\r\naxios.defaults.baseURL = 'http://localhost:5000/';\r\nconst cookies = new Cookies();\r\n\r\nexport const ACTIONS = {\r\n    SET_JWT: 'set_jwt',\r\n    CHANGE_SOCKET_LISTENER: 'change_socket_listener',\r\n};\r\nfunction globalReducer(state, action) {\r\n    const { type, payload } = action;\r\n    const { jwt, socketListeners } = payload;\r\n    switch (type) {\r\n        case ACTIONS.SET_JWT:\r\n            setAuthToken(jwt);\r\n            return { ...state, jwt };\r\n        case ACTIONS.CHANGE_SOCKET_LISTENER:\r\n            const skt = manageSocketListeners(state.socket, socketListeners);\r\n            return { ...state, socket: skt };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nfunction manageSocketListeners(socket, payload) {\r\n    for (const cmd of payload) {\r\n        const { tag, func } = cmd;\r\n        if (!tag) continue;\r\n        if (func)\r\n            socket.on(tag, (data) => {\r\n                func(data);\r\n            });\r\n    }\r\n}\r\n\r\nfunction setAuthToken(token) {\r\n    cookies.set('auth-token', token);\r\n    handleAuthToken(token);\r\n}\r\n\r\nfunction handleAuthToken(token = null) {\r\n    const authToken = token || cookies.get('auth-token');\r\n    if (authToken) axios.defaults.headers.common['auth-token'] = authToken;\r\n    return authToken || null;\r\n}\r\n\r\nconst handleSocketConnection = () => io();\r\n\r\nexport const GlobalContext = React.createContext();\r\nexport const GlobalUpdateContext = React.createContext();\r\nexport const useGlobals = () => useContext(GlobalContext);\r\nexport const useGlobalsUpdate = () => useContext(GlobalUpdateContext);\r\n\r\nexport default function GlobalProvider({ children }) {\r\n    const jwt = handleAuthToken();\r\n    const socket = handleSocketConnection();\r\n    const [state, dispatch] = useReducer(globalReducer, { jwt, axios, socket });\r\n    useEffect(() => console.log('Global State Updated'), [state]);\r\n\r\n    return (\r\n        <GlobalContext.Provider value={state}>\r\n            <GlobalUpdateContext.Provider value={dispatch}>\r\n                {''}\r\n                {children}\r\n            </GlobalUpdateContext.Provider>\r\n        </GlobalContext.Provider>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport logo from '../../img/logo.png';\r\n\r\nimport { useGlobals } from '../../GlobalProvider';\r\n\r\nfunction renderSubtitle(subtitle) {\r\n    let subtitleCmpt = <h2>{subtitle}</h2>;\r\n    return subtitle ? subtitleCmpt : null;\r\n}\r\n\r\nexport default function Main(auth) {\r\n    const globalState = useGlobals();\r\n    console.log(globalState.jwt);\r\n    return (\r\n        <div className='modalMain'>\r\n            <img src={logo} alt='Logo' />\r\n            <h1>Mafia Engine</h1>\r\n            {renderSubtitle('Version Beta 1.5\\nFeatures currently disabled for development')}\r\n            <br />\r\n            <div className='mainmenu'>\r\n                {/* <a className='menuoption' href='/votecount'>\r\n                    Vote Counter\r\n                </a>\r\n                <a className='menuoption' href='/replacement'>\r\n                    Replacement Form\r\n                </a>\r\n                <a className='menuoption' href='/'>\r\n                    Discord Bot [inactive]\r\n                </a> */}\r\n                <a className='menuoption' href='/discord-archive'>\r\n                    Discord Archive\r\n                </a>\r\n                <a className='menuoption' href='/credits'>\r\n                    Credits / Contact\r\n                </a>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport logo from '../../img/logo.png';\r\n\r\nexport default function Main(auth) {\r\n\treturn (\r\n\t\t<div className='modalMain'>\r\n\t\t\t<img src={logo} alt='Logo' />\r\n\t\t\t<h1>Error 404</h1>\r\n\t\t\t<h2>Page Not Found</h2>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import { findBestMatch } from 'string-similarity';\r\n\r\nexport default class Vote {\r\n\tconstructor(voteData, category) {\r\n\t\tthis.category = category;\r\n\t\tthis.author = voteData.author;\r\n\t\tthis.pronoun = voteData.pronoun;\r\n\t\tthis.number = parseInt(voteData.post.number);\r\n\t\tthis.url = voteData.post.url;\r\n\t\tthis.votes = voteData.votes;\r\n\t\tthis.vote = {\r\n\t\t\tlast: null,\r\n\t\t\tvalid: null,\r\n\t\t};\r\n\t}\r\n\tisAfter(vote) {\r\n\t\treturn this.number > vote.number;\r\n\t}\r\n\tgetNewest(vote) {\r\n\t\tif (!vote) {\r\n\t\t\treturn this;\r\n\t\t} else {\r\n\t\t\treturn this.isAfter ? this : vote;\r\n\t\t}\r\n\t}\r\n\tclean(settings) {\r\n\t\tconst totalnames = settings.totalnames,\r\n\t\t\talias = settings.alias,\r\n\t\t\tvoteArray = this.votes[this.category];\r\n\t\tlet lastVote = undefined,\r\n\t\t\tfinalVote = undefined;\r\n\t\tfor (let i = voteArray.length; i >= 0; i -= 1) {\r\n\t\t\tconst originalVote = voteArray[i];\r\n\t\t\tif (lastVote === undefined) lastVote = originalVote;\r\n\t\t\tif (finalVote === undefined) {\r\n\t\t\t\tif (originalVote || originalVote === null) {\r\n\t\t\t\t\tif (originalVote === null) {\r\n\t\t\t\t\t\tfinalVote = null;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlet correction = findBestMatch(originalVote, totalnames).bestMatch;\r\n\t\t\t\t\t\tif (correction.rating >= settings?.correctionWeight || 0.7) {\r\n\t\t\t\t\t\t\tlet corrected = alias[correction.target];\r\n\t\t\t\t\t\t\tif (corrected) {\r\n\t\t\t\t\t\t\t\tfinalVote = corrected;\r\n\t\t\t\t\t\t\t\tif (lastVote === originalVote) lastVote = finalVote;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.vote.last = lastVote;\r\n\t\tthis.vote.valid = finalVote;\r\n\t}\r\n\tisValid(settings) {\r\n\t\tlet isCurrent = this.number > parseInt(settings.days[settings.days.length - 1]);\r\n\t\tlet isDead = false;\r\n\t\tfor (let deadUsr of settings.dead) {\r\n\t\t\tlet deadRoot = this.rootUser(deadUsr, settings.totalnames);\r\n\t\t\tlet userRoot = this.rootUser(this.author, settings.totalnames);\r\n\t\t\tif (deadRoot.target === userRoot.target) {\r\n\t\t\t\tisDead = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn isCurrent && !isDead;\r\n\t}\r\n\trootUser(user, totalnames) {\r\n\t\treturn findBestMatch(user, totalnames).bestMatch;\r\n\t}\r\n}\r\n","export function sortArraysBySize(array) {\r\n    for (let i = 1; i < array.lemgth; i++) {\r\n        for (let j = i - 1; j > -1; j--) {\r\n            let a = array[i].length,\r\n                b = array[j].length;\r\n            if (a < b) [array[j + 1], array[j]] = [array[j], array[j + 1]];\r\n        }\r\n    }\r\n    return array;\r\n}\r\n","import React from 'react';\r\n\r\nexport default function Field(props) {\r\n\tconst { child } = props;\r\n\treturn <div className='field'>{child}</div>;\r\n}\r\n","import React from 'react';\r\n\r\nexport default class Input extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.name = props.name;\r\n\t\tthis.label = props.label;\r\n\t\tthis.type = props.type;\r\n\r\n\t\tif (props.accept) this.accept = props.accept;\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<label htmlFor={this.name}>{this.label}</label>\r\n\t\t\t\t<input id={this.name} type={this.type} accept={this.accept || ''} />\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n","import React from 'react';\r\nimport Field from './Field.jsx';\r\nimport Input from './Input';\r\nexport default class Form extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.onSubmit = props.onSubmit;\r\n\t\tthis.children = props.children;\r\n\t\tthis.submitText = props.submitText;\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<form className='modalForm' onSubmit={this.onSubmit}>\r\n\t\t\t\t{this.children.map((c, i) => {\r\n\t\t\t\t\treturn <Field key={c.name} child={<Input name={c.name} label={c.label} type={c.type} />} />;\r\n\t\t\t\t})}\r\n\t\t\t\t<input type='submit' value={this.submitText} />\r\n\t\t\t</form>\r\n\t\t);\r\n\t}\r\n}\r\n","import React from 'react';\r\n\r\nexport default function Modal(p) {\r\n\tconst { title, children } = p;\r\n\treturn (\r\n\t\t<div className='modalMain'>\r\n\t\t\t<h1>{title}</h1>\r\n\t\t\t{children.map((c, i) => {\r\n\t\t\t\treturn c;\r\n\t\t\t})}\r\n\t\t</div>\r\n\t);\r\n}\r\n","const seperator = ',';\r\nconst block = ':';\r\nconst selectors = {\r\n\tplayers: ['playerList', 'players'],\r\n\tslots: ['slotList', 'slots', 'replacementlist', 'replacements'],\r\n\talias: ['nicknameList', 'nicknames', 'alias', 'aliasList'],\r\n\tmoderators: ['moderatorList', 'moderators', 'moderatorNames'],\r\n\tdead: ['deadList', 'dead', 'eliminated'],\r\n\tdays: ['dayStartNumbers', 'dayStart', 'days'],\r\n\tdeadline: ['deadline', 'timer'],\r\n\tprods: ['prodTimer', 'prod'],\r\n\tcountdown: ['prods', 'timer', 'prodTimer', 'countdown'],\r\n\tpageData: ['pageData'],\r\n\tcorrectionWeight: ['correctionWeight, correction'],\r\n\tedash: ['edash', 'edashweight'],\r\n\tedashOnTop: ['edashOnTop'],\r\n};\r\nfunction containsSelector(sel, selRef) {\r\n\treturn selRef.includes(sel);\r\n}\r\nfunction findSelector(sel) {\r\n\tfor (const selector in selectors) {\r\n\t\tif (containsSelector(sel, selectors[selector])) {\r\n\t\t\treturn { handle: selector, request: sel, selectors: selectors[selector] };\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n}\r\n\r\nconst defaultFunc = (settings) => {\r\n\tlet s = new SettingsFormat(settings);\r\n\treturn s.data;\r\n};\r\nexport default defaultFunc;\r\n\r\nclass SettingsFormat {\r\n\tconstructor(settings = null) {\r\n\t\tthis.data = {\r\n\t\t\tplayers: [],\r\n\t\t\tslots: {},\r\n\t\t\talias: {},\r\n\t\t\ttotalnames: [],\r\n\t\t\tmoderators: [],\r\n\t\t\tdead: [],\r\n\t\t\tdays: ['0'],\r\n\t\t\tvotes: {\r\n\t\t\t\treg: {\r\n\t\t\t\t\tid: '0',\r\n\t\t\t\t\tvote: 'VOTE: ',\r\n\t\t\t\t\tunvote: 'UNVOTE: ',\r\n\t\t\t\t},\r\n\t\t\t\thurt: {\r\n\t\t\t\t\tid: '1',\r\n\t\t\t\t\tvote: 'HURT: ',\r\n\t\t\t\t\tunvote: 'HEAL: ',\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tpageData: null,\r\n\t\t\tvoteWeight: {\r\n\t\t\t\treg: 1,\r\n\t\t\t},\r\n\t\t\tedash: 2,\r\n\t\t\tedashOnTop: 1,\r\n\t\t\tcorrectionWeight: 0.5,\r\n\t\t};\r\n\t\tthis.baseUrl = '';\r\n\t\tif (settings) this.parseSettings(settings);\r\n\t}\r\n\tparseSettings(settingsData) {\r\n\t\tfor (const sel in settingsData) {\r\n\t\t\tlet selector = findSelector(sel);\r\n\t\t\tlet data = settingsData[sel];\r\n\t\t\tif (selector) {\r\n\t\t\t\tswitch (selector.handle) {\r\n\t\t\t\t\tcase 'players':\r\n\t\t\t\t\t\tconst playerRef = this.convertCommaDelimiter(data);\r\n\t\t\t\t\t\tthis.data.players = playerRef.list;\r\n\t\t\t\t\t\tthis.data.slots = playerRef.obj;\r\n\t\t\t\t\t\tthis.addNamesArray(playerRef.list);\r\n\t\t\t\t\t\tthis.addAlias(playerRef.obj);\r\n\t\t\t\t\t\tthis.convertPlayerNicknames(playerRef.list);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'slots':\r\n\t\t\t\t\t\tconst slotRef = this.convertCommaDelimiter(data);\r\n\t\t\t\t\t\tthis.data.slots = slotRef.obj;\r\n\t\t\t\t\t\tthis.addNamesArray(slotRef.list);\r\n\t\t\t\t\t\tthis.addAlias(slotRef.obj);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'alias':\r\n\t\t\t\t\t\tconst aliasRef = this.convertCommaDelimiter(data);\r\n\t\t\t\t\t\tthis.addAlias(aliasRef.obj);\r\n\t\t\t\t\t\tthis.addNamesArray(aliasRef.list);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'moderators':\r\n\t\t\t\t\t\tconst moderatorRef = this.convertCommaDelimiter(data);\r\n\t\t\t\t\t\tthis.data.moderators = moderatorRef.list;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'dead':\r\n\t\t\t\t\t\tconst deadRef = this.convertCommaDelimiter(data);\r\n\t\t\t\t\t\tthis.data.dead = deadRef.list;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'days':\r\n\t\t\t\t\t\tconst dayRef = this.convertCommaDelimiter(data);\r\n\t\t\t\t\t\tthis.data.days = dayRef.list;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'deadline':\r\n\t\t\t\t\t\tthis.data.deadline = data;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'countdown':\r\n\t\t\t\t\t\tconst prodRef = this.convertCommaDelimiter(data);\r\n\t\t\t\t\t\tlet prodList = prodRef.list;\r\n\t\t\t\t\t\tthis.data.prods = [];\r\n\t\t\t\t\t\tfor (let i = 0; i < 4; i++) {\r\n\t\t\t\t\t\t\tif (!isNaN(parseInt(prodList[i]))) this.data.prods[i] = prodList[i];\r\n\t\t\t\t\t\t\telse this.data.prods[i] = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'pageData':\r\n\t\t\t\t\t\tthis.data.pageData = data;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'correctionWeight':\r\n\t\t\t\t\t\tthis.data.correctionWeight = data;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'prods':\r\n\t\t\t\t\t\t// const prodTimerRef = this.convertProds(data);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'edash':\r\n\t\t\t\t\t\tconst edashInt = parseInt(data);\r\n\t\t\t\t\t\tif (!isNaN(edashInt)) this.data.edash = edashInt;\r\n\t\t\t\t\t\telse this.data.edash = -1;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'edashOnTop':\r\n\t\t\t\t\t\tconst edashOnTopInt = parseInt(data);\r\n\t\t\t\t\t\tif (!isNaN(edashOnTopInt)) this.data.edashOnTop = edashOnTopInt;\r\n\t\t\t\t\t\telse this.data.edashOnTop = -1;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tconsole.log('Unknown Setting');\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(`Settings found [${sel}] as an unknown selector.`);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\taddNamesArray(nameArray) {\r\n\t\tfor (let name of nameArray) {\r\n\t\t\tif (!this.data.totalnames.includes(name)) this.data.totalnames.push(name);\r\n\t\t}\r\n\t}\r\n\taddAlias(obj) {\r\n\t\tthis.data.alias = Object.assign(this.data.alias, obj);\r\n\t}\r\n\taddSetting(handle, setting) {\r\n\t\tswitch (handle) {\r\n\t\t\tcase 'playerList':\r\n\t\t\t\tthis.addPlayers(setting);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\taddPlayers(players) {\r\n\t\tlet slots = players.split(',');\r\n\t\tfor (let i = 0; i < slots.length; i++) {\r\n\t\t\tlet slot = slots[i];\r\n\t\t\tlet players = slot.split(':');\r\n\t\t\tfor (let f = 1; f < players.length; f++) {\r\n\t\t\t\tlet cur = players[f],\r\n\t\t\t\t\troot = players[0];\r\n\t\t\t\tthis.slotList[cur] = root;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tconvertPlayerNicknames(data) {\r\n\t\tconst nicknames = {};\r\n\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\tconst root = data[i];\r\n\t\t\tconst splitData = root.split('{');\r\n\t\t\tif (splitData.length > 1) {\r\n\t\t\t\tlet nicks = splitData[1].split('}')[0].split('+');\r\n\t\t\t\tfor (let j = 0; j < nicks.length; j++) {\r\n\t\t\t\t\tnicknames[nicks[j]] = splitData[0];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tconsole.log(nicknames);\r\n\t\treturn nicknames;\r\n\t}\r\n\tconvertCommaDelimiter(data) {\r\n\t\tconst author = [],\r\n\t\t\tgroup = {};\r\n\t\tlet slotRef = data.split(seperator);\r\n\t\tfor (let i = 0; i < slotRef.length; i++) {\r\n\t\t\tlet indivPlayers = slotRef[i].split(block);\r\n\t\t\tfor (let j = 0; j < indivPlayers.length; j++) {\r\n\t\t\t\tconst currentPlayer = indivPlayers[0].trim();\r\n\t\t\t\tconst playerReference = indivPlayers[j].trim();\r\n\t\t\t\tauthor.push(playerReference);\r\n\t\t\t\tgroup[playerReference] = currentPlayer;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn { list: author, obj: group };\r\n\t}\r\n\tconvertProds(data) {\r\n\t\tconst prods = [0, 0, 0, 0];\r\n\t\tconst split = data.split(',');\r\n\t\tconst val = split.length > prods.length ? prods.length : split.length;\r\n\t\tfor (let i = 0; i < val; i++) {\r\n\t\t\tlet prod = split[i].trim();\r\n\t\t\tlet int = parseInt(prod);\r\n\t\t\tif (!isNaN(int)) {\r\n\t\t\t\tprods[i] = int;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n","import React from 'react';\r\nimport { connectSocket } from '../../network/socket.js';\r\nimport Vote from '../../scripts/Vote.js';\r\nimport { sortArraysBySize } from '../../scripts/sorting.js';\r\nimport { findBestMatch } from 'string-similarity';\r\nimport Form from '../forms/Form.jsx';\r\nimport Modal from './Modal';\r\nimport settings from '../../scripts/formatting/settingsFormatter';\r\n\r\n/*\r\n */\r\n\r\nexport default class VoteCount extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            progress: '',\r\n            result: '',\r\n        };\r\n        this.toggle = {\r\n            onlyCountVotes: false,\r\n        };\r\n        this.cache = {};\r\n        this.socket = null;\r\n\r\n        for (const cat in this.toggle) {\r\n            this.state[cat] = this.toggle[cat];\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.startSocketConnection();\r\n        this.setupSocketListeners();\r\n    }\r\n    componentWillUnmount() {\r\n        this.closeSocketConnection();\r\n    }\r\n    startSocketConnection() {\r\n        this.socket = connectSocket();\r\n    }\r\n    closeSocketConnection() {\r\n        this.socket.disconnect();\r\n    }\r\n    setupSocketListeners() {\r\n        this.socket.on('result', this.processVotes.bind(this));\r\n        this.socket.on('progress', this.processProgress.bind(this));\r\n        this.socket.on('error', this.processError.bind(this));\r\n    }\r\n    processVotes(data) {\r\n        data.settings = settings(data.settings);\r\n        this.cache = Object.assign(this.cache, data);\r\n        const cleaned = this.clean();\r\n        if (cleaned) {\r\n            const format = this.format(cleaned);\r\n            this.setState({ progress: '', result: format });\r\n        } else {\r\n            this.setState({ progress: '[ERROR]', result: 'Thread is not compatible with this tool.' });\r\n        }\r\n    }\r\n    processProgress(data) {\r\n        const { currentPage, lastPage, notes } = data;\r\n        if (currentPage && lastPage) {\r\n            this.setState({ progress: `[${Math.round((data.currentPage / data.lastPage) * 100)}%]` });\r\n        }\r\n        if (notes) {\r\n            this.setState({ result: `${notes}` });\r\n        }\r\n    }\r\n    processError(data) {\r\n        this.setState({ progress: '[ERROR]', result: data.type });\r\n    }\r\n    onFormSubmit(e) {\r\n        e.preventDefault();\r\n        let gameUrl = e.target.url.value;\r\n        this.socket.emit('genVoteCount', { url: gameUrl });\r\n        this.setState({ progress: '[0%]', result: 'Pending Result...' });\r\n    }\r\n    onAddField(fields) {\r\n        console.log(fields);\r\n    }\r\n    render() {\r\n        return (\r\n            <Modal\r\n                title='Vote Counter'\r\n                children={[\r\n                    <Form\r\n                        key='votecountForm'\r\n                        onSubmit={this.onFormSubmit.bind(this)}\r\n                        submitText='Generate Vote Count'\r\n                        children={[\r\n                            {\r\n                                name: 'url',\r\n                                label: 'Game URL',\r\n                                type: 'text',\r\n                            },\r\n                        ]}\r\n                    />,\r\n\r\n                    <div key='result' className='modalResult'>\r\n                        <h3>\r\n                            Result <span>{this.state.progress}</span>\r\n                        </h3>\r\n                        <textarea value={this.state.result} readOnly />\r\n                    </div>,\r\n                ]}\r\n            />\r\n        );\r\n    }\r\n    clean() {\r\n        const isValid = this.cache.settings.players.length >= 1;\r\n        const voteData = {\r\n            votes: {},\r\n            wagons: {},\r\n            orderedWagons: [],\r\n            notVoting: [],\r\n            majority: null,\r\n        };\r\n        if (isValid) {\r\n            for (const category in this.cache.voteCount) {\r\n                if (!voteData.votes[category]) voteData.votes[category] = {};\r\n                if (!voteData.wagons[category]) voteData.wagons[category] = {};\r\n                let hammerOccured = false;\r\n                voteData.notVoting = this.getAlive();\r\n                voteData.majority = Math.ceil(voteData.notVoting.length / 2);\r\n                for (const author in this.cache.voteCount[category]) {\r\n                    if (!hammerOccured) {\r\n                        let voteArray = this.cache.voteCount[category][author];\r\n                        let lastVote = null;\r\n                        let validVote = null;\r\n                        for (let i = 0; i < voteArray.length; i++) {\r\n                            let vote = new Vote(voteArray[i], category);\r\n                            vote.clean(this.cache.settings);\r\n                            if (vote.vote.valid !== undefined) {\r\n                                if (vote.vote.valid) {\r\n                                    validVote = vote.getNewest(validVote);\r\n                                } else {\r\n                                    validVote = null;\r\n                                }\r\n                            }\r\n                            lastVote = vote.getNewest(lastVote);\r\n                        }\r\n\r\n                        let valid = validVote?.isValid(this.cache.settings);\r\n                        if (valid && !hammerOccured) {\r\n                            let authorIndex = voteData.notVoting.indexOf(validVote.author);\r\n                            voteData.notVoting.splice(authorIndex, 1);\r\n                            voteData.votes[category][author] = {\r\n                                last: lastVote,\r\n                                valid: validVote,\r\n                            };\r\n                            if (!voteData.wagons[category][validVote.vote.valid]) voteData.wagons[category][validVote.vote.valid] = [];\r\n\r\n                            let wagons = voteData.wagons[category][validVote.vote.valid];\r\n                            wagons.push(validVote);\r\n                            wagons = sortArraysBySize(wagons);\r\n                            voteData.wagons[category][validVote.vote.valid] = wagons;\r\n                        }\r\n                    }\r\n                }\r\n                for (const wagonHandle in voteData.wagons[category]) {\r\n                    let wagon = this.sortWagonByPostNumber(voteData.wagons[category][wagonHandle]);\r\n                    if (!voteData.orderedWagons[category]) voteData.orderedWagons[category] = [];\r\n                    if (!voteData.orderedWagons[category][wagon.length]) voteData.orderedWagons[category][wagon.length] = {};\r\n                    voteData.orderedWagons[category][wagon.length][wagonHandle] = wagon;\r\n                }\r\n                voteData.orderedWagons[category].reverse();\r\n                console.log(voteData.orderedWagons);\r\n            }\r\n        }\r\n        let returnVal = this.cache.settings.players.length;\r\n        return returnVal >= 1 ? voteData : null;\r\n    }\r\n    sortWagonByPostNumber(wagon) {\r\n        let newArray = wagon;\r\n        let length = newArray.length;\r\n        for (let i = 0; i < length; i++) {\r\n            for (let j = 0; j < length - i - 1; j++) {\r\n                if (newArray[j].number > newArray[j + 1].number) {\r\n                    let tmp = newArray[j];\r\n                    newArray[j] = newArray[j + 1];\r\n                    newArray[j + 1] = tmp;\r\n                }\r\n            }\r\n        }\r\n        console.log(newArray);\r\n        return newArray;\r\n    }\r\n    format(voteData) {\r\n        const { wagons, notVoting, orderedWagons, majority } = voteData;\r\n        const { edash, edashOnTop } = this.cache.settings;\r\n        let totalVC = '';\r\n\r\n        for (const category in wagons) {\r\n            let categoryVotes = '[area=VC]';\r\n\r\n            const wagonArray = orderedWagons[category];\r\n            for (let i = 0; i < wagonArray.length; i++) {\r\n                for (const wagonHead in wagonArray[i]) {\r\n                    let vote = wagonArray[i][wagonHead];\r\n                    let voteStr = `[b]${wagonHead}[/b] (${vote.length}) -> `;\r\n                    for (let i = 0; i < vote.length; i++) {\r\n                        if (i > 0) voteStr += ', ';\r\n                        voteStr += `${vote[i].author}`;\r\n                    }\r\n                    let eDash = majority - vote.length;\r\n                    const showEdash = i <= edashOnTop - 1 || eDash <= edash;\r\n                    if (showEdash) voteStr += eDash <= 0 ? ' [ELIMINATED]' : ` [E-${eDash}]`;\r\n                    categoryVotes += `${voteStr}\\n`;\r\n                }\r\n            }\r\n            if (notVoting.length > 0) {\r\n                categoryVotes += `\\n[b]Not Voting[/b] (${notVoting.length}) -> `;\r\n                for (let i = 0; i < notVoting.length; i++) {\r\n                    if (i > 0) categoryVotes += ', ';\r\n                    categoryVotes += `${notVoting[i]}`;\r\n                }\r\n            }\r\n            categoryVotes += `${this.cache.settings.deadline ? `\\nDay ends in [countdown]${this.cache.settings.deadline}[/countdown]` : ''}[/area]`;\r\n            totalVC += categoryVotes;\r\n        }\r\n        return totalVC;\r\n    }\r\n    getAlive() {\r\n        const { players, dead } = this.cache.settings;\r\n        let aliveList = [];\r\n        for (let i = 0; i < players.length; i++) {\r\n            let root = this.getRootAuthor(players[i]);\r\n            if (!containsObject(root, aliveList) && !containsObject(root, dead)) {\r\n                aliveList.push(root);\r\n            }\r\n        }\r\n        return aliveList;\r\n    }\r\n    checkValid(votePost, category) {\r\n        let isCurrent = votePost.number > parseInt(this.cache.settings.days[this.cache.settings.days.length - 1]);\r\n        let isDead = false;\r\n        for (let deadUsr of this.cache.settings.dead) {\r\n            let deadRoot = this.rootUser(deadUsr);\r\n            let userRoot = this.rootUser(votePost.author);\r\n            if (deadRoot.target === userRoot.target) {\r\n                isDead = true;\r\n            }\r\n        }\r\n        return isCurrent && !isDead;\r\n    }\r\n    isValidVote(vote) {\r\n        let valid = false;\r\n        if (vote) {\r\n            let cor = this.rootUser(vote);\r\n            if (cor.rating >= this.cache.settings.correctionWeight || 0.7) {\r\n                let correctedVote = this.cache.settings.alias[cor.target];\r\n                if (correctedVote) {\r\n                    valid = true;\r\n                }\r\n            }\r\n        }\r\n        return valid;\r\n    }\r\n    rootUser(user) {\r\n        return findBestMatch(user, this.cache.settings.totalnames).bestMatch;\r\n    }\r\n    getRootAuthor(author) {\r\n        let bestMatch = findBestMatch(author, this.cache.settings.totalnames).bestMatch;\r\n        let root = this.cache.settings.alias[bestMatch.target];\r\n        return root || bestMatch.target;\r\n    }\r\n}\r\n\r\nfunction containsObject(obj, list) {\r\n    for (let i = 0; i < list.length; i++) {\r\n        if (list[i] === obj) return true;\r\n    }\r\n    return false;\r\n}\r\n","import io from 'socket.io-client';\r\n\r\nexport function connectSocket() {\r\n    return io.connect();\r\n}\r\n","import React from 'react';\r\n\r\nfunction RolecardComponent(props) {\r\n\tconst { child } = props;\r\n\treturn <div className={'component'}>{child}</div>;\r\n}\r\n\r\nexport default RolecardComponent;\r\n","import React from 'react';\r\n\r\nfunction SidebarButton(props) {\r\n\tconst { name, onclick } = props;\r\n\treturn (\r\n\t\t<div className='sidebarButton' onClick={onclick}>\r\n\t\t\t{name}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default SidebarButton;\r\n","export const LOCAL_URL = 'http://localhost:5000';\r\nexport const isLocalURL = (url) => {\r\n\treturn url === 'localhost' || url === '127.0.0.1' || url === '';\r\n};\r\nexport const getServerURL = () => {\r\n\tconst { hostname, protocol } = window.location;\r\n\treturn isLocalURL(hostname) ? LOCAL_URL : `${protocol}//${hostname}`;\r\n};\r\n","const config = {\r\n\ttemplate: '[quote][b][size=200][color={{rcolour}}]{{align}} {{rname}}[/color][/size][/b]\\n\\n{{abilities}}\\n\\n{{wincon}}[/quote]',\r\n};\r\n\r\nexport default config;\r\n","import React from 'react';\r\nimport Form from '../../forms/Form.jsx';\r\nimport Field from '../../forms/Field';\r\nimport Input from '../../forms/Input';\r\n\r\nexport default class Import extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.formSubmit = props?.formSubmit;\r\n\t}\r\n\trender() {\r\n\t\treturn <Form onSubmit={this.formSubmit.bind(this)} submitText='Import' children={[<Field key='file' child={<Input name='file' label='Upload CSV' type='file' />} />]} />;\r\n\t}\r\n}\r\n","import React from 'react';\r\n\r\nexport default class Template extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.onChange = props.onChange;\r\n\t\tthis.template = props.template || '';\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className='component modalForm'>\r\n\t\t\t\t<form onSubmit={(e) => e.preventDefault()}>\r\n\t\t\t\t\t<label htmlFor='template'>Role Template</label>\r\n\t\t\t\t\t<textarea name='template' onChange={this.onChange}>\r\n\t\t\t\t\t\t{this.template}\r\n\t\t\t\t\t</textarea>\r\n\t\t\t\t\t<input type='submit' value='Process Role Cards' />\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport RolecardComponent from '../rolecard/RolecardComponent.jsx';\r\nimport SidebarButton from '../rolecard/SidebarButton.jsx';\r\nimport Papa from 'papaparse';\r\nimport { createSocket } from '../../scripts/websockets';\r\n\r\nimport roleCardConfig from '../../config/roleCardConfig';\r\n\r\nimport Import from '../rolecard/sections/Import.jsx';\r\nimport Template from '../rolecard/sections/Template.jsx';\r\n\r\nexport default class RoleCard extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\tshowImport: false,\r\n\t\t\tshowGlobals: false,\r\n\t\t\tshowTemplate: false,\r\n\t\t\troleData: [],\r\n\t\t};\r\n\t\tthis.socket = createSocket();\r\n\t}\r\n\ttoggleImport() {\r\n\t\tthis.setState({ import: !this.state.showImport });\r\n\t}\r\n\ttoggleGlobal() {\r\n\t\tthis.setState({ globals: !this.state.showGlobals });\r\n\t}\r\n\ttoggleTemplate() {\r\n\t\tthis.setState({ template: !this.state.showTemplate });\r\n\t}\r\n\tsubmitImport(e) {\r\n\t\te.preventDefault();\r\n\t\ttry {\r\n\t\t\tlet file = e.target.file.files[0];\r\n\t\t\tPapa.parse(file, {\r\n\t\t\t\tdownload: true,\r\n\t\t\t\theader: true,\r\n\t\t\t\tskipEmptyLines: true,\r\n\t\t\t\tcomplete: (res) => {\r\n\t\t\t\t\tlet roles = [];\r\n\t\t\t\t\tfor (const data of res.data) roles.push(data);\r\n\t\t\t\t\tthis.setState({ roleData: this.state.roleData });\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log('Invalid File');\r\n\t\t}\r\n\t}\r\n\ttemplateChange(e) {\r\n\t\tthis.setState({ template: e.target.value });\r\n\t}\r\n\trender() {\r\n\t\t/* Split later into different components */\r\n\t\treturn (\r\n\t\t\t<div className='rolecard'>\r\n\t\t\t\t<div className='sidebar'>\r\n\t\t\t\t\t<SidebarButton name='Import' onclick={this.toggleImport.bind(this)} />\r\n\t\t\t\t\t<SidebarButton name='Globals' onclick={this.toggleGlobal.bind(this)} />\r\n\t\t\t\t\t<SidebarButton name='Process' onclick={this.toggleTemplate.bind(this)} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='content'>\r\n\t\t\t\t\t{this.state.showImport && <RolecardComponent child={<Import formSubmit={this.submitImport.bind(this)} />} />}\r\n\t\t\t\t\t{this.state.showGlobals && <RolecardComponent child={<span>Global Component</span>} />}\r\n\t\t\t\t\t{this.state.showTemplate && <RolecardComponent child={<Template onChange={this.templateChange.bind(this)} template={roleCardConfig.template} />} />}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import socketIOClient from 'socket.io-client';\r\nimport { getServerURL } from '../network/network';\r\nexport function createSocket(commands = []) {\r\n\tconst socket = socketIOClient(getServerURL());\r\n\treturn socket;\r\n}\r\n// Create a managable abstraction over this.\r\n","import React from 'react';\r\nimport Modal from './Modal';\r\nexport default class Replacement extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Modal\r\n\t\t\t\ttitle='Credits and Contact'\r\n\t\t\t\tchildren={[\r\n\t\t\t\t\t<span>If you need to contact me, you can find me on Discord at NashedPotato#2919 or on MafiaScum at JacksonVirgo.</span>,\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\tIcons made by{' '}\r\n\t\t\t\t\t\t<a href='https://www.freepik.com' title='Freepik'>\r\n\t\t\t\t\t\t\tFreepik\r\n\t\t\t\t\t\t</a>{' '}\r\n\t\t\t\t\t\tfrom{' '}\r\n\t\t\t\t\t\t<a href='https://www.flaticon.com/' title='Flaticon'>\r\n\t\t\t\t\t\t\twww.flaticon.com\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</div>,\r\n\t\t\t\t]}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { useContext, useEffect, useState, useReducer } from 'react';\r\nimport { useGlobals } from '../../GlobalProvider';\r\n\r\nexport const ACTIONS = {\r\n\tTHREAD_CHANGE: 'thread',\r\n\tADD_PLAYER: 'add_player',\r\n\tSET_PLAYER_LIST: 'set_player_list',\r\n\tSET_GAME: 'set_game',\r\n\tSET_ACTIVE_PAGE: 'set_active_page',\r\n\tSET_PROD_TIMER: 'set_prod_timer',\r\n};\r\nexport const PAGES = {\r\n\tTHREAD: 'thread',\r\n\tPLAYERS: 'players',\r\n\tDEADLINES: 'deadlines',\r\n\tROLE_ASSIGNMENT: 'role_assignment',\r\n\tNIGHT_ACTIONS: 'night_actions',\r\n};\r\nexport const PAGE_HANDLES = {\r\n\tThread: PAGES.THREAD,\r\n\tPlayers: PAGES.PLAYERS,\r\n\tDeadlines: PAGES.DEADLINES,\r\n\t'Role Assignment': PAGES.ROLE_ASSIGNMENT,\r\n\t'Night Actions': PAGES.NIGHT_ACTIONS,\r\n};\r\nfunction moderatorReducer(state, action) {\r\n\tswitch (action.type) {\r\n\t\tcase ACTIONS.SET_ACTIVE_PAGE:\r\n\t\t\treturn { ...state, activePage: action.payload.page };\r\n\t\tcase ACTIONS.SET_GAME:\r\n\t\t\treturn { ...state, _id: action.payload._id };\r\n\t\tcase ACTIONS.THREAD_CHANGE:\r\n\t\t\treturn { ...state, thread: action.payload.thread };\r\n\t\tcase ACTIONS.ADD_PLAYER:\r\n\t\t\treturn { ...state, players: [].concat(state.players, [action.payload.player]) };\r\n\t\tcase ACTIONS.SET_PLAYER_LIST:\r\n\t\t\treturn { ...state, players: action.payload.players };\r\n\t\tcase ACTIONS.SET_PROD_TIMER:\r\n\t\t\tconst prod = action.payload.prodTimer;\r\n\t\t\tconst prodTimer = parseFloat(prod);\r\n\t\t\treturn isNaN(prodTimer) ? state : { ...state, prodTimer };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\nconst exampleReducerInit = {\r\n\t_id: null,\r\n\tthread: '',\r\n\tplayers: [],\r\n\tactivePage: PAGES.THREAD,\r\n};\r\n\r\nconst ModeratorContext = React.createContext();\r\nconst ModeratorUpdateContext = React.createContext();\r\nexport const useModerator = () => useContext(ModeratorContext);\r\nexport const useModeratorUpdate = () => useContext(ModeratorUpdateContext);\r\n\r\nexport default function ModeratorProvider({ children }) {\r\n\tconst { axios } = useGlobals();\r\n\r\n\tconst [state, dispatch] = useReducer(moderatorReducer, exampleReducerInit);\r\n\tconst [prevState, setPrevState] = useState({});\r\n\tconst setState = (action, data) => dispatch({ type: action, payload: data });\r\n\r\n\tuseEffect(() => {\r\n\t\tconst updateValues = (data) => {\r\n\t\t\tconsole.log('val', data);\r\n\t\t\tconst { _id, threadURL, players, prodTimer } = data;\r\n\t\t\tif (_id) setState(ACTIONS.SET_GAME, { _id });\r\n\t\t\tif (threadURL) setState(ACTIONS.THREAD_CHANGE, { thread: threadURL });\r\n\t\t\tif (players) setState(ACTIONS.SET_PLAYER_LIST, { players });\r\n\t\t\tif (prodTimer) setState(ACTIONS.SET_PROD_TIMER, { prodTimer });\r\n\t\t};\r\n\t\taxios\r\n\t\t\t.get('api/game/')\r\n\t\t\t.then((res) => updateValues(res.data))\r\n\t\t\t.catch((err) => console.log(err));\r\n\t}, [axios]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst ignoreHandles = ['_id', 'activePage'];\r\n\t\tlet hasChanged = false;\r\n\t\tconst changedValues = {};\r\n\t\tfor (const handle in state) {\r\n\t\t\tif (ignoreHandles.includes(handle)) continue;\r\n\t\t\tif (state[handle] !== prevState[handle]) {\r\n\t\t\t\thasChanged = true;\r\n\t\t\t\tchangedValues[handle] = state[handle];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (hasChanged) {\r\n\t\t\taxios.put(`/api/game/${state._id}`, changedValues);\r\n\t\t}\r\n\r\n\t\tsetPrevState(Object.assign(prevState, state));\r\n\t}, [state, axios, prevState]);\r\n\r\n\treturn (\r\n\t\t<ModeratorContext.Provider value={state}>\r\n\t\t\t<ModeratorUpdateContext.Provider value={dispatch}>\r\n\t\t\t\t{''}\r\n\t\t\t\t{children}\r\n\t\t\t</ModeratorUpdateContext.Provider>\r\n\t\t</ModeratorContext.Provider>\r\n\t);\r\n}\r\n","import React from 'react';\r\n\r\nexport default function UnorderedList({ children, onChildClick }) {\r\n\treturn (\r\n\t\t<ul>\r\n\t\t\t{children.map((v, i) => (\r\n\t\t\t\t<li key={i} onClick={onChildClick}>\r\n\t\t\t\t\t{v}\r\n\t\t\t\t</li>\r\n\t\t\t))}\r\n\t\t</ul>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { useModeratorUpdate, PAGES, PAGE_HANDLES, ACTIONS } from '../moderatorPanels/ModeratorProvider';\r\nimport styles from '../../styles/modules/moderators.module.css';\r\nimport UnorderedList from '../lists/UnorderedList';\r\n\r\nexport default function Sidebar() {\r\n\tconst dispatch = useModeratorUpdate();\r\n\tconst updatePanels = (e) => {\r\n\t\tconst textContent = e.currentTarget.textContent;\r\n\t\tconst pageHandle = PAGE_HANDLES[textContent];\r\n\t\tlet pageValue = null;\r\n\t\tfor (const handle in PAGES) {\r\n\t\t\tif (PAGES[handle] === pageHandle) {\r\n\t\t\t\tpageValue = handle;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (pageValue) {\r\n\t\t\tdispatch({ type: ACTIONS.SET_ACTIVE_PAGE, payload: { page: PAGES[pageValue] } });\r\n\t\t}\r\n\t};\r\n\treturn (\r\n\t\t<div className={styles.sidebar}>\r\n\t\t\t<h3>Tools</h3>\r\n\t\t\t<UnorderedList onChildClick={updatePanels} children={Object.keys(PAGE_HANDLES)} />\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport styles from '../../styles/modules/moderators.module.css';\r\n\r\nexport default function ModeratorPanel({ title, child }) {\r\n\treturn (\r\n\t\t<div className={styles.modpanel}>\r\n\t\t\t<span>{title}</span>\r\n\t\t\t<div className={styles.panelBody}>{child}</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { useModerator, useModeratorUpdate, ACTIONS } from './ModeratorProvider';\r\nimport styles from '../../styles/modules/moderators.module.css';\r\n\r\nexport default function Thread() {\r\n\tconst state = useModerator();\r\n\tconst dispatch = useModeratorUpdate();\r\n\r\n\tconst setThread = (e) => {\r\n\t\te.preventDefault();\r\n\t\tconst enterThreadURL = e.target.enterThreadURL.value;\r\n\t\tdispatch({ type: ACTIONS.THREAD_CHANGE, payload: { thread: enterThreadURL } });\r\n\t};\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h3>Thread Details</h3>\r\n\t\t\t<div>{state.thread}</div>\r\n\t\t\t<br />\r\n\t\t\t<form onSubmit={setThread}>\r\n\t\t\t\t<label htmlFor='enterThreadURL'>Enter Thread URL</label>\r\n\t\t\t\t<input className={styles.editableInput} id='enterThreadURL' name='enterThreadURL ' type='text' placeholder='thread url' />\r\n\t\t\t\t<br />\r\n\t\t\t\t<input className={styles.editableButton} type='submit' value='Set Thread' />\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport styles from '../../styles/modules/moderators.module.css';\r\n\r\nexport default function Days() {\r\n\tconst setDayPost = (e) => {\r\n\t\te.preventDefault();\r\n\t};\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h3>Days</h3>\r\n\t\t\t<ul className={styles.panelList}></ul>\r\n\r\n\t\t\t<br />\r\n\r\n\t\t\t<form onSubmit={setDayPost}>\r\n\t\t\t\t<label htmlFor='enterDayNumber'>Enter Day #</label>\r\n\t\t\t\t<input className={styles.editableInput} id='enterDayNumber' name='enterDayNumber ' type='text' placeholder='Day Number' />\r\n\t\t\t\t<br />\r\n\t\t\t\t<label htmlFor='enterPostNumber'>Enter Post #</label>\r\n\t\t\t\t<input className={styles.editableInput} id='enterPostNumber' name='enterPostNumber ' type='text' placeholder='Post Number' />\r\n\t\t\t\t<br />\r\n\t\t\t\t<input className={styles.editableButton} type='submit' value='Set Day' />\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { useModerator, PAGES } from '../ModeratorProvider';\r\n\r\nimport ModPanel from '../../mod/ModPanel';\r\nimport styles from '../../../styles/modules/moderators.module.css';\r\n\r\nimport ThreadPanel from '../Thread';\r\nimport DaysPanel from '../Days';\r\nconst ThreadPage = () => {\r\n\tconst modState = useModerator();\r\n\r\n\treturn (\r\n\t\t<div className={styles.modPage} style={{ display: modState.activePage === PAGES.THREAD ? 'block' : 'none' }}>\r\n\t\t\t<ModPanel title={'Thread URL'} child={<ThreadPanel />} />\r\n\t\t\t<ModPanel title={'Day Starts'} child={<DaysPanel />} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ThreadPage;\r\n","import React from 'react';\r\nimport { useModerator, useModeratorUpdate, ACTIONS } from './ModeratorProvider';\r\n\r\nimport styles from '../../styles/modules/moderators.module.css';\r\nexport default function Players() {\r\n\tconst state = useModerator();\r\n\tconst dispatch = useModeratorUpdate();\r\n\r\n\t//const [users, setUsers] = useState(['JacksonVirgo', 'yessiree', 'Psyche', 'chamber', 'osuka', 'Flubbernugget']);\r\n\tconst addUser = (e) => {\r\n\t\te.preventDefault();\r\n\t\tconst user = e.target.enterUsername.value;\r\n\t\tdispatch({ type: ACTIONS.ADD_PLAYER, payload: { player: user } });\r\n\t\te.target.enterUsername.value = '';\r\n\t};\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h3>Player List [{state.players.length || 0}p]</h3>\r\n\t\t\t<ul className={styles.panelList}>\r\n\t\t\t\t{state.players.map((v, i) => (\r\n\t\t\t\t\t<li key={i}>\r\n\t\t\t\t\t\t{i + 1 + ') '}\r\n\t\t\t\t\t\t{v}\r\n\t\t\t\t\t</li>\r\n\t\t\t\t))}\r\n\t\t\t</ul>\r\n\r\n\t\t\t<br />\r\n\r\n\t\t\t<form onSubmit={addUser}>\r\n\t\t\t\t<label htmlFor='enterUsername'>Enter new Username</label>\r\n\t\t\t\t<input className={styles.editableInput} id='enterUsername' name='enterUsername ' type='text' placeholder='username' />\r\n\t\t\t\t<input className={styles.editableButton} type='submit' value='Add User' />\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport styles from '../../styles/modules/moderators.module.css';\r\n\r\nexport default function Nicknames() {\r\n\tconst addNickname = (e) => {\r\n\t\te.preventDefault();\r\n\t};\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h3>Nickname List</h3>\r\n\t\t\t<ul className={styles.panelList}>\r\n\t\t\t\t<li>Empty</li>\r\n\t\t\t</ul>\r\n\r\n\t\t\t<br />\r\n\r\n\t\t\t<form onSubmit={addNickname}>\r\n\t\t\t\t<label htmlFor='enterUsername'>Username</label>\r\n\t\t\t\t<input className={styles.editableInput} id='enterUsername' name='enterUsername ' type='text' placeholder='username' />\r\n\t\t\t\t<br />\r\n\t\t\t\t<label htmlFor='enterNickname'>Nickname</label>\r\n\t\t\t\t<input className={styles.editableInput} id='enterNickname' name='enterNickname ' type='text' placeholder='nickname' />\r\n\t\t\t\t<br />\r\n\t\t\t\t<input className={styles.editableButton} type='submit' value='Add Nickname' />\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport styles from '../../styles/modules/moderators.module.css';\r\n\r\nexport default function Replacement() {\r\n\tconst addReplacement = (e) => {\r\n\t\te.preventDefault();\r\n\t};\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h3>Replacement List</h3>\r\n\t\t\t<ul className={styles.panelList}>\r\n\t\t\t\t<li>Empty</li>\r\n\t\t\t</ul>\r\n\r\n\t\t\t<br />\r\n\r\n\t\t\t<form onSubmit={addReplacement}>\r\n\t\t\t\t<label htmlFor='enterUsername'>Old Player</label>\r\n\t\t\t\t<input className={styles.editableInput} id='enterUsername' name='enterUsername ' type='text' placeholder='Old User' />\r\n\t\t\t\t<br />\r\n\t\t\t\t<label htmlFor='enterReplacement'>New Player</label>\r\n\t\t\t\t<input className={styles.editableInput} id='enterReplacement' name='enterReplacement ' type='text' placeholder='New User' />\r\n\t\t\t\t<br />\r\n\t\t\t\t<input className={styles.editableButton} type='submit' value='Add Replacement' />\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { useModerator, PAGES } from '../ModeratorProvider';\r\n\r\nimport ModPanel from '../../mod/ModPanel';\r\nimport styles from '../../../styles/modules/moderators.module.css';\r\nimport PlayerPanel from '../Players';\r\nimport NicknamesPanel from '../Nicknames';\r\nimport ReplacementPanel from '../Replacement';\r\nconst PlayerPage = () => {\r\n\tconst modState = useModerator();\r\n\r\n\treturn (\r\n\t\t<div className={styles.modPage} style={{ display: modState.activePage === PAGES.PLAYERS ? 'block' : 'none' }}>\r\n\t\t\t<ModPanel title={'Player List'} child={<PlayerPanel />} />\r\n\t\t\t<ModPanel title='Nicknames' child={<NicknamesPanel />} />\r\n\t\t\t<ModPanel title='Replacements' child={<ReplacementPanel />} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PlayerPage;\r\n","import React from 'react';\r\nimport { useModerator, useModeratorUpdate, ACTIONS } from './ModeratorProvider';\r\nimport { msToTime, milliseconds } from '../../scripts/dateUtilities';\r\nimport styles from '../../styles/modules/moderators.module.css';\r\n\r\nexport default function Thread() {\r\n\tconst state = useModerator();\r\n\tconst dispatch = useModeratorUpdate();\r\n\r\n\tconst setProdTimer = (e) => {\r\n\t\te.preventDefault();\r\n\t\tconst prodTimer = e.target.enterProdTime.value;\r\n\t\tdispatch({ type: ACTIONS.SET_PROD_TIMER, payload: { prodTimer: milliseconds(prodTimer, 0, 0) } });\r\n\t\te.target.enterProdTime.value = '';\r\n\t};\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h3>Prod Timer</h3>\r\n\t\t\t<div>{`${msToTime(state.prodTimer).hours} hours` || '[Not Set]'}</div>\r\n\t\t\t<br />\r\n\t\t\t<form onSubmit={setProdTimer}>\r\n\t\t\t\t<label htmlFor='enterProdTime'>Prod Length in Hours</label>\r\n\t\t\t\t<input className={styles.editableInput} type='text' sname='enterProdTime' id='enterProdTime' placeholder='Time in Hours' />\r\n\r\n\t\t\t\t<br />\r\n\t\t\t\t<input className={styles.editableButton} type='submit' value='Set Prod Timer' />\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import { attachSuffixOf } from './stringUtilities';\r\nlet months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\r\n\r\nexport function getCalendarDate() {\r\n\tlet date = new Date();\r\n\tlet currentDay = date.getDate();\r\n\tcurrentDay = attachSuffixOf(currentDay);\r\n\tlet currentMonth = date.getMonth() + 1;\r\n\treturn `${currentDay} ${months[currentMonth - 1]}`;\r\n}\r\n\r\nexport const milliseconds = (h, m, s) => (h * 60 * 60 + m * 60 + s) * 1000;\r\nexport const msToTime = (duration) => {\r\n\treturn {\r\n\t\tseconds: duration / 1000,\r\n\t\tminutes: duration / (1000 * 60),\r\n\t\thours: duration / (1000 * 60 * 60),\r\n\t};\r\n};\r\n","import React from 'react';\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\n\r\nexport default function PhaseTimer() {\r\n    return (\r\n        <div>\r\n            <h3>Phase Deadline</h3>\r\n            <div>-- In Development --</div>\r\n            {/* <h3>Phase Deadline</h3>\r\n\t\t\t<div>{JSON.stringify(timezone)}</div>\r\n\t\t\t<div>{startDate.toUTCString()}</div>\r\n\t\t\t<br />\r\n\t\t\t<TimezoneSelect className={styles.timezone} value={timezone} onChange={setTimezone} />\r\n\t\t\t<br />\r\n\t\t\t<DatePicker className={styles.timezone} selected={startDate} onChange={(date) => setStartDate(date)} />\r\n\t\t\t<br />\r\n\t\t\t<form onSubmit={setPhaseTimer}>\r\n\t\t\t\t<input className={styles.editableButton} type='submit' value='Set Phase Deadline' />\r\n\t\t\t</form> */}\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport { useModerator, PAGES } from '../ModeratorProvider';\r\n\r\nimport ModPanel from '../../mod/ModPanel';\r\nimport styles from '../../../styles/modules/moderators.module.css';\r\nimport ProdPanel from '../Prods';\r\nimport PhaseDeadlinePanel from '../PhaseTimer';\r\nconst DeadlinesPage = () => {\r\n\tconst modState = useModerator();\r\n\r\n\treturn (\r\n\t\t<div className={styles.modPage} style={{ display: modState.activePage === PAGES.DEADLINES ? 'block' : 'none' }}>\r\n\t\t\t<ModPanel title='Phase Deadline' child={<PhaseDeadlinePanel />} />\r\n\t\t\t<ModPanel title='Prod Timer' child={<ProdPanel />} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default DeadlinesPage;\r\n","import React from 'react';\r\nimport styles from '../styles/modules/moderators.module.css';\r\nimport hamburgerIcon from '../resources/list.png';\r\nimport ModeratorProvider from '../components/moderatorPanels/ModeratorProvider';\r\nimport { GlobalContext } from '../GlobalProvider';\r\nimport Sidebar from '../components/mod/Sidebar';\r\n\r\nimport ThreadPage from '../components/moderatorPanels/pages/Thread';\r\nimport PlayerPage from '../components/moderatorPanels/pages/Players';\r\nimport DeadlinesPage from '../components/moderatorPanels/pages/Deadlines';\r\n\r\nexport default class ModeratorPanel extends React.Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\tmenuActive: true,\r\n\t\t};\r\n\r\n\t\tthis.bindFunctions = this.bindFunctions.bind(this);\r\n\t\tthis.bindFunctions();\r\n\t}\r\n\tcomponentDidMount() {}\r\n\tbindFunctions() {\r\n\t\tthis.hamburgerClicked = this.hamburgerClicked.bind(this);\r\n\t\tthis.updateModPanel = this.updateModPanel.bind(this);\r\n\t}\r\n\thamburgerClicked() {\r\n\t\tthis.setState({ menuActive: !this.state.menuActive });\r\n\t}\r\n\tupdateModPanel(e) {}\r\n\trender() {\r\n\t\tconst content = (\r\n\t\t\t<div className={styles.mainDiv}>\r\n\t\t\t\t<div className={styles.header}>\r\n\t\t\t\t\t<span onClick={this.hamburgerClicked}>\r\n\t\t\t\t\t\t<img src={hamburgerIcon} alt='Toggle Sidebar' />\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<a href='../'>Home</a>\r\n\t\t\t\t</div>\r\n\t\t\t\t<ModeratorProvider>\r\n\t\t\t\t\t<div className={styles.body}>\r\n\t\t\t\t\t\t{this.state.menuActive && <Sidebar />}\r\n\t\t\t\t\t\t<div className={styles.content}>\r\n\t\t\t\t\t\t\t<ThreadPage />\r\n\t\t\t\t\t\t\t<PlayerPage />\r\n\t\t\t\t\t\t\t<DeadlinesPage />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>{' '}\r\n\t\t\t\t</ModeratorProvider>\r\n\t\t\t</div>\r\n\t\t);\r\n\r\n\t\treturn content;\r\n\t}\r\n}\r\n\r\nModeratorPanel.contextType = GlobalContext;\r\n","export default \"data:image/png;base64,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\"","import React, { useState, useEffect } from 'react';\r\nimport Form from '../components/forms/Form';\r\nimport Modal from '../components/pages/Modal';\r\n\r\nimport { useGlobals, useGlobalsUpdate, ACTIONS } from '../GlobalProvider';\r\n\r\nconst Replace = () => {\r\n    const [result, setResult] = useState('');\r\n    const [progress, setProgress] = useState('Result');\r\n    const { socket } = useGlobals();\r\n    const dispatch = useGlobalsUpdate();\r\n\r\n    useEffect(() => {\r\n        dispatch({\r\n            type: ACTIONS.CHANGE_SOCKET_LISTENER,\r\n            payload: {\r\n                socketListeners: [{ tag: 'genReplace', func: onGenReplace }],\r\n            },\r\n        });\r\n    }, [dispatch]);\r\n\r\n    const onGenReplace = (data) => {\r\n        const { error, form } = data;\r\n        if (error || !form) {\r\n            setResult(error ? data.message : 'An Error has Occurred');\r\n            setProgress('Error');\r\n        } else {\r\n            setResult(form);\r\n            setProgress('Completed');\r\n        }\r\n    };\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        const url = e.target.url.value;\r\n        const user = e.target.departing.value;\r\n\r\n        socket.emit('genReplace', { url, user });\r\n        setProgress('[pending]');\r\n        setResult('Pending');\r\n    };\r\n\r\n    return (\r\n        <Modal\r\n            title='Replacement Form'\r\n            children={[\r\n                <Form\r\n                    key='replacementForm'\r\n                    onSubmit={onSubmit}\r\n                    submitText='Generate'\r\n                    children={[\r\n                        { name: 'url', label: 'Game URL', type: 'text' },\r\n                        { name: 'departing', label: 'Departing User', type: 'text' },\r\n                    ]}\r\n                />,\r\n                <div key='result' className='modalResult'>\r\n                    <h3>\r\n                        <span>{progress}</span>\r\n                    </h3>\r\n                    <textarea defaultValue={result} readOnly />\r\n                </div>,\r\n            ]}\r\n        />\r\n    );\r\n};\r\n\r\nexport default Replace;\r\n","import React, { useState } from 'react';\r\nimport logo from '../img/logo.png';\r\n\r\nimport { useGlobals, useGlobalsUpdate, ACTIONS } from '../GlobalProvider';\r\n\r\nexport default function Login(props) {\r\n    const [error, setError] = useState('');\r\n    const globalState = useGlobals();\r\n    const globalStateUpdate = useGlobalsUpdate();\r\n\r\n    const loginAccount = async (e) => {\r\n        e.preventDefault();\r\n        console.log('Logged In');\r\n        const { loginUsername, loginPassword } = e.target;\r\n\r\n        const body = { username: loginUsername.value, password: loginPassword.value };\r\n        globalState.axios\r\n            .post('api/auth/login', body)\r\n            .then((res) => {\r\n                const token = res.data.token;\r\n                globalStateUpdate({ type: ACTIONS.SET_JWT, payload: { jwt: token } });\r\n                props.history.push('/');\r\n            })\r\n            .catch((err) => {\r\n                if (err.response) {\r\n                    switch (err.response.status) {\r\n                        case 401:\r\n                            setError('Incorrect Password');\r\n                            break;\r\n                        case 404:\r\n                            setError('User does not exist');\r\n                            break;\r\n                        case 500:\r\n                            setError('Server error occurred');\r\n                            break;\r\n                        default:\r\n                            setError('Unexpected error occurred');\r\n                            break;\r\n                    }\r\n                } else {\r\n                    setError('Unexpected error occurred');\r\n                }\r\n            });\r\n    };\r\n\r\n    return (\r\n        <div className='modalMain'>\r\n            <img src={logo} alt='Logo' />\r\n            <h1>Login Form</h1>\r\n            <div>{error}</div>\r\n            <br />\r\n            <form onSubmit={loginAccount}>\r\n                <div>\r\n                    <label htmlFor='loginUsername'>Username</label>\r\n                    <br />\r\n                    <input id='loginUsername' name='loginUsername' placeholder='Username' />\r\n                </div>\r\n                <div>\r\n                    <label htmlFor='loginPassword'>Password</label>\r\n                    <br />\r\n\r\n                    <input id='loginPassword' name='loginPassword' type='password' />\r\n                </div>\r\n                <input type='submit' value='Login' />\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport logo from '../img/logo.png';\r\n\r\nimport { useGlobals } from '../GlobalProvider';\r\n\r\nexport default function Login(props) {\r\n\tconst globalState = useGlobals();\r\n\r\n\tconst registerAccount = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tconst { loginUsername, loginPassword } = e.target;\r\n\t\tconst body = { username: loginUsername.value, password: loginPassword.value };\r\n\r\n\t\tconst response = await globalState.axios.post('api/auth/register', body);\r\n\t\tif (response.status === 201) {\r\n\t\t\tprops.history.push('/login');\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='modalMain'>\r\n\t\t\t<img src={logo} alt='Logo' />\r\n\t\t\t<h1>Register Form</h1>\r\n\t\t\t<br />\r\n\t\t\t<form onSubmit={registerAccount}>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<label htmlFor='loginUsername'>MafiaScum Username</label>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<input id='loginUsername' name='loginUsername' placeholder='Username' />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<label htmlFor='loginPassword'>Password (not your MS password)</label>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<input id='loginPassword' name='loginPassword' type='password' />\r\n\t\t\t\t</div>\r\n\t\t\t\t<input type='submit' value='Register' />\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState } from 'react';\r\n\r\nconst mainDiv = {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    width: '100vw',\r\n    height: '100vh',\r\n    color: '#FFF',\r\n    padding: '10px',\r\n};\r\nconst form = {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n};\r\nconst textArea = {\r\n    width: '80%',\r\n};\r\nconst button = {\r\n    width: '100px',\r\n};\r\n\r\nexport default function DiscordArchive() {\r\n    const [pastedData, setPastedData] = useState([]);\r\n    const pasteData = (e) => {\r\n        e.preventDefault();\r\n        const data = e.target.archiveData.value;\r\n        setPastedData(JSON.parse(data).messages);\r\n    };\r\n\r\n    return (\r\n        <div style={mainDiv}>\r\n            <form style={form} onSubmit={pasteData}>\r\n                <label htmlFor='archiveData'>Archive Data</label>\r\n                <textarea style={textArea} id='archiveData' name='archiveData'></textarea>\r\n                <input style={button} type='submit' value='Submit' />\r\n            </form>\r\n\r\n            <ul>\r\n                {pastedData.map((value, index) => {\r\n                    return (\r\n                        <li key={index}>\r\n                            <span style={{ color: '#F00' }}>{value.author.username}</span> {value.content}\r\n                        </li>\r\n                    );\r\n                })}\r\n            </ul>\r\n        </div>\r\n    );\r\n}\r\n\r\n// export default class ModeratorPanel extends React.Component {\r\n//     constructor() {\r\n//         super();\r\n//         this.state = {\r\n//             menuActive: true,\r\n//         };\r\n\r\n//         this.bindFunctions = this.bindFunctions.bind(this);\r\n//         this.bindFunctions();\r\n//     }\r\n//     componentDidMount() {}\r\n//     bindFunctions() {\r\n//         this.onPaste.bind(this);\r\n//     }\r\n//     onPaste(e) {}\r\n//     render() {\r\n//         const content = (\r\n//             <div className={styles.mainDiv}>\r\n//                 <div className={styles.body}>\r\n//                     <div className={styles.content}>\r\n//                         <div onClick={this.onPaste}>Paste Data</div>\r\n//                         <span>Hi</span>\r\n//                     </div>\r\n//                 </div>{' '}\r\n//             </div>\r\n//         );\r\n\r\n//         return content;\r\n//     }\r\n// }\r\n\r\n// ModeratorPanel.contextType = GlobalContext;\r\n","import React, { useEffect } from 'react';\r\nimport { useGlobals } from '../../GlobalProvider';\r\n\r\nexport default function SocketTest() {\r\n    const { socket } = useGlobals();\r\n    useEffect(() => {\r\n        // Without Settings\r\n        socket.emit('genVoteCount', {\r\n            url: 'https://forum.mafiascum.net/viewtopic.php?f=2&t=85951',\r\n        });\r\n\r\n        // With Settings\r\n        socket.emit('genVoteCount', {\r\n            url: 'https://forum.mafiascum.net/viewtopic.php?f=2&t=85772',\r\n        });\r\n    }, [socket]);\r\n\r\n    socket.on('genVoteCount', (data) => {\r\n        console.log(data);\r\n    });\r\n\r\n    return (\r\n        <div className='modalMain'>\r\n            <p>If you found this page, that means that I forgot to remove this in production. Please let me know, thank you </p>\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\r\nimport './css/main.css';\r\n\r\n// Old Pages\r\nimport Main from './components/pages/Main.jsx';\r\nimport NotFoundPage from './components/pages/404.jsx';\r\nimport VoteCount from './components/pages/VoteCount.jsx';\r\nimport RoleCard from './components/pages/RoleCard.jsx';\r\nimport Credit from './components/pages/Credits.jsx';\r\nimport ModeratorPanel from './pages/ModeratorPanel';\r\n\r\n// New Pages\r\nimport Replace from './pages/Replace';\r\nimport Login from './pages/Login';\r\nimport Register from './pages/Register';\r\nimport DiscordArchive from './pages/DiscordArchive';\r\n\r\nimport TestSocketPage from './pages/testing/SocketTest';\r\n\r\nimport GlobalProvider, { useGlobals } from './GlobalProvider';\r\n\r\nfunction SubsetApp() {\r\n    const globalState = useGlobals();\r\n    return (\r\n        <Router>\r\n            <Switch>\r\n                <Route exact path='/' component={Main} />\r\n                <Route exact path='/replacement' component={Replace} />\r\n                <Route exact path='/votecount' component={VoteCount} />\r\n                <Route exact path='/rolecard' component={RoleCard} />\r\n                <Route exact path='/credits' component={Credit} />\r\n                <Route exact path='/test' component={VoteCount} />\r\n                <Route exact path='/moderator'>\r\n                    {globalState.jwt ? <ModeratorPanel /> : <Redirect to='login' />}\r\n                </Route>\r\n                <Route exact path='/discord-archive' component={DiscordArchive} />\r\n                <Route exact path='/login' component={Login} />\r\n                <Route exact path='/register' component={Register} />\r\n                <Route exact path='/testSocket' component={TestSocketPage} />\r\n\r\n                <Route path='/404' component={NotFoundPage} />\r\n                <Redirect to='/404' />\r\n            </Switch>\r\n        </Router>\r\n    );\r\n}\r\n\r\nfunction App() {\r\n    return (\r\n        <>\r\n            <GlobalProvider>\r\n                <SubsetApp />\r\n            </GlobalProvider>\r\n        </>\r\n    );\r\n}\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainDiv\":\"moderators_mainDiv__2pRrX\",\"header\":\"moderators_header__3AiMD\",\"body\":\"moderators_body__29jCS\",\"sidebar\":\"moderators_sidebar__13N5X\",\"content\":\"moderators_content__2wdKe\",\"modpanel\":\"moderators_modpanel__2TX5l\",\"editableInput\":\"moderators_editableInput__1UoVw\",\"editableButton\":\"moderators_editableButton__eblE1\",\"panelList\":\"moderators_panelList__3GNSo\",\"modPage\":\"moderators_modPage__1XYTM\",\"singleColumn\":\"moderators_singleColumn__2lgoc\",\"timezone\":\"moderators_timezone__2gOUy\"};"],"sourceRoot":""}